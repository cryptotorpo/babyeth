"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3204],{9439:(t,e,n)=>{let s,r;n.d(e,{dS:()=>tt});let i="solana:signAndSendTransaction",a="solana:signTransaction",o="standard:connect",c="standard:events";function l(t){return o in t.features&&c in t.features&&(i in t.features||a in t.features)}var h,f,u,d,w,m,p,g,y,v,E,b,k,T,W,C,x,S,M,z,P=n(25778),A=n(80302);!function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"}(h||(h={}));class I extends P{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){let s=this.publicKey;if(!s)throw new A.kW;return t.feePayer=t.feePayer||s,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function U(t){return"version"in t}let K="solana:signMessage",D="solana:signIn",j="solana:mainnet";function N(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}var V=n(77369);let _="standard:disconnect";new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;var B=n(97783),L=function(t,e,n,s){if("a"===n&&!s)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},R=function(t,e,n,s,r){if("m"===s)throw TypeError("Private method is not writable");if("a"===s&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?r.call(t,n):r?r.value=n:e.set(t,n),n};class Y extends I{get name(){return L(this,y,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return L(this,y,"f").icon}get readyState(){return L(this,v,"f")}get publicKey(){return L(this,d,"f")}get connecting(){return L(this,w,"f")}get supportedTransactionVersions(){return L(this,g,"f")}get wallet(){return L(this,y,"f")}get standard(){return!0}constructor({wallet:t}){super(),f.add(this),u.set(this,void 0),d.set(this,void 0),w.set(this,void 0),m.set(this,void 0),p.set(this,void 0),g.set(this,void 0),y.set(this,void 0),v.set(this,"undefined"==typeof window||"undefined"==typeof document?h.Unsupported:h.Installed),W.set(this,t=>{if("accounts"in t){let t=L(this,y,"f").accounts[0];L(this,u,"f")&&!L(this,m,"f")&&t!==L(this,u,"f")&&(t?L(this,f,"m",b).call(this,t):(this.emit("error",new A.PQ),L(this,f,"m",k).call(this)))}"features"in t&&L(this,f,"m",T).call(this)}),R(this,y,t,"f"),R(this,u,null,"f"),R(this,d,null,"f"),R(this,w,!1,"f"),R(this,m,!1,"f"),R(this,p,L(this,y,"f").features[c].on("change",L(this,W,"f")),"f"),L(this,f,"m",T).call(this)}destroy(){R(this,u,null,"f"),R(this,d,null,"f"),R(this,w,!1,"f"),R(this,m,!1,"f");let t=L(this,p,"f");t&&(R(this,p,null,"f"),t())}async autoConnect(){return L(this,f,"m",E).call(this,{silent:!0})}async connect(){return L(this,f,"m",E).call(this)}async disconnect(){if(_ in L(this,y,"f").features)try{R(this,m,!0,"f"),await L(this,y,"f").features[_].disconnect()}catch(t){this.emit("error",new A.Y8(t?.message,t))}finally{R(this,m,!1,"f")}L(this,f,"m",k).call(this)}async sendTransaction(t,e,n={}){try{var s;let r;let o=L(this,u,"f");if(!o)throw new A.kW;if(i in L(this,y,"f").features){if(o.features.includes(i))r=i;else if(a in L(this,y,"f").features&&o.features.includes(a))r=a;else throw new A.fk}else if(a in L(this,y,"f").features){if(!o.features.includes(a))throw new A.fk;r=a}else throw new A.Ez;let c=(s=e.rpcEndpoint).includes("https://api.mainnet-beta.solana.com")?j:/\bdevnet\b/i.test(s)?"solana:devnet":/\btestnet\b/i.test(s)?"solana:testnet":/\blocalhost\b/i.test(s)||/\b127\.0\.0\.1\b/.test(s)?"solana:localnet":j;if(!o.chains.includes(c))throw new A.UF;try{let s;let{signers:l,...h}=n;if(U(t)?(l?.length&&t.sign(l),s=t.serialize()):(t=await this.prepareTransaction(t,e,h),l?.length&&t.partialSign(...l),s=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),r===i){let[t]=await L(this,y,"f").features[i].signAndSendTransaction({account:o,chain:c,transaction:s,options:{preflightCommitment:N(h.preflightCommitment||e.commitment),skipPreflight:h.skipPreflight,maxRetries:h.maxRetries,minContextSlot:h.minContextSlot}});return B.A.encode(t.signature)}{let[t]=await L(this,y,"f").features[a].signTransaction({account:o,chain:c,transaction:s,options:{preflightCommitment:N(h.preflightCommitment||e.commitment),minContextSlot:h.minContextSlot}});return await e.sendRawTransaction(t.signedTransaction,{...h,preflightCommitment:N(h.preflightCommitment||e.commitment)})}}catch(t){if(t instanceof A.m7)throw t;throw new A.UF(t?.message,t)}}catch(t){throw this.emit("error",t),t}}}u=new WeakMap,d=new WeakMap,w=new WeakMap,m=new WeakMap,p=new WeakMap,g=new WeakMap,y=new WeakMap,v=new WeakMap,W=new WeakMap,f=new WeakSet,E=async function(t){try{if(this.connected||this.connecting)return;if(L(this,v,"f")!==h.Installed)throw new A.AE;if(R(this,w,!0,"f"),!L(this,y,"f").accounts.length)try{await L(this,y,"f").features[o].connect(t)}catch(t){throw new A.Y6(t?.message,t)}let e=L(this,y,"f").accounts[0];if(!e)throw new A.fk;L(this,f,"m",b).call(this,e)}catch(t){throw this.emit("error",t),t}finally{R(this,w,!1,"f")}},b=function(t){let e;try{e=new V.PublicKey(t.address)}catch(t){throw new A.Kd(t?.message,t)}R(this,u,t,"f"),R(this,d,e,"f"),L(this,f,"m",T).call(this),this.emit("connect",e)},k=function(){R(this,u,null,"f"),R(this,d,null,"f"),L(this,f,"m",T).call(this),this.emit("disconnect")},T=function(){let t=i in L(this,y,"f").features?L(this,y,"f").features[i].supportedTransactionVersions:L(this,y,"f").features[a].supportedTransactionVersions;R(this,g,!function(t,e){if(t===e)return!0;let n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}(t,["legacy"])?new Set(t):null,"f"),a in L(this,y,"f").features&&L(this,u,"f")?.features.includes(a)?(this.signTransaction=L(this,f,"m",C),this.signAllTransactions=L(this,f,"m",x)):(delete this.signTransaction,delete this.signAllTransactions),K in L(this,y,"f").features&&L(this,u,"f")?.features.includes(K)?this.signMessage=L(this,f,"m",S):delete this.signMessage,D in L(this,y,"f").features?this.signIn=L(this,f,"m",M):delete this.signIn},C=async function(t){try{let e=L(this,u,"f");if(!e)throw new A.kW;if(!(a in L(this,y,"f").features))throw new A.Ez;if(!e.features.includes(a))throw new A.fk;try{let n=(await L(this,y,"f").features[a].signTransaction({account:e,transaction:U(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return U(t)?V.VersionedTransaction.deserialize(n):V.Transaction.from(n)}catch(t){if(t instanceof A.m7)throw t;throw new A.z4(t?.message,t)}}catch(t){throw this.emit("error",t),t}},x=async function(t){try{let e=L(this,u,"f");if(!e)throw new A.kW;if(!(a in L(this,y,"f").features))throw new A.Ez;if(!e.features.includes(a))throw new A.fk;try{let n=await L(this,y,"f").features[a].signTransaction(...t.map(t=>({account:e,transaction:U(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((t,e)=>{let s=n[e].signedTransaction;return U(t)?V.VersionedTransaction.deserialize(s):V.Transaction.from(s)})}catch(t){throw new A.z4(t?.message,t)}}catch(t){throw this.emit("error",t),t}},S=async function(t){try{let e=L(this,u,"f");if(!e)throw new A.kW;if(!(K in L(this,y,"f").features))throw new A.Ez;if(!e.features.includes(K))throw new A.fk;try{return(await L(this,y,"f").features[K].signMessage({account:e,message:t}))[0].signature}catch(t){throw new A.K3(t?.message,t)}}catch(t){throw this.emit("error",t),t}},M=async function(t={}){try{let e;if(!(D in L(this,y,"f").features))throw new A.Ez;try{[e]=await L(this,y,"f").features[D].signIn(t)}catch(t){throw new A.o7(t?.message,t)}if(!e)throw new A.o7;return L(this,f,"m",b).call(this,e.account),e}catch(t){throw this.emit("error",t),t}};var q=function(t,e,n,s){if("a"===n&&!s)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(t):s?s.value:e.get(t)},F=function(t,e,n,s,r){if("m"===s)throw TypeError("Private method is not writable");if("a"===s&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?r.call(t,n):r?r.value=n:e.set(t,n),n};let O=new Set,Q={};function G(...t){return(t=t.filter(t=>!O.has(t))).length?(t.forEach(t=>{s=void 0,O.add(t)}),Q.register?.forEach(e=>X(()=>e(...t))),function(){t.forEach(t=>{s=void 0,O.delete(t)}),Q.unregister?.forEach(e=>X(()=>e(...t)))}):()=>{}}function H(){return s||(s=[...O]),s}function J(t,e){return Q[t]?.push(e)||(Q[t]=[e]),function(){Q[t]=Q[t]?.filter(t=>e!==t)}}function X(t){try{t()}catch(t){console.error(t)}}class Z extends Event{get detail(){return q(this,z,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),z.set(this,void 0),F(this,z,t,"f")}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}z=new WeakMap;var $=n(80288);n(12115),n(95155),n(47147),n(92829),n(68943),n(80893),n(22234),n(79995),n(89208);let tt=t=>{let e,{get:n,on:s}=function(){if(r||(r=Object.freeze({register:G,get:H,on:J}),"undefined"==typeof window))return r;let t=Object.freeze({register:G});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(t){console.error("wallet-standard:register-wallet event listener could not be added\n",t)}try{window.dispatchEvent(new Z(t))}catch(t){console.error("wallet-standard:app-ready event could not be dispatched\n",t)}return r}(),i=t?.shouldAutoConnect??!0,a=[],o=[];function c(...t){o=(a=a.concat(...te(t))).map(t=>new $.ah(t,i)),e?.(o)}function l(...t){o=(a=a.filter(e=>t.some(t=>e.wallet===t))).map(t=>new $.ah(t,i)),e?.(o)}let h=[s("register",c),s("unregister",l)];return o=(a=te(n())).map(t=>new $.ah(t,i)),{_setOnConnectorsUpdated:t=>{e=t},onMount:()=>{h[0]||(h[0]=s("register",c)),h[1]||(h[1]=s("unregister",l))},onUnmount:()=>{let t=h.pop();for(;t;)t(),t=h.pop()},get:()=>o}},te=t=>t.filter(l).map(t=>new Y({wallet:t}))},80302:(t,e,n)=>{n.d(e,{AE:()=>r,Ez:()=>i,K3:()=>w,Kd:()=>h,PQ:()=>o,UF:()=>u,Y6:()=>a,Y8:()=>c,fk:()=>l,kW:()=>f,m7:()=>s,o7:()=>m,z4:()=>d});class s extends Error{constructor(t,e){super(t),this.error=e}}class r extends s{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class i extends s{constructor(){super(...arguments),this.name="WalletConfigError"}}class a extends s{constructor(){super(...arguments),this.name="WalletConnectionError"}}class o extends s{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class c extends s{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class l extends s{constructor(){super(...arguments),this.name="WalletAccountError"}}class h extends s{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class f extends s{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class u extends s{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class d extends s{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class w extends s{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class m extends s{constructor(){super(...arguments),this.name="WalletSignInError"}}},37646:(t,e,n)=>{var s;n.d(e,{B:()=>s}),function(t){t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet"}(s||(s={}))}}]);